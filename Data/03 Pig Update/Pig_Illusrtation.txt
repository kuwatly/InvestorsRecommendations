---------------------------------------------------------------------------
| trades     | investor_id:int      | trade_id:int      | rating:int      |
---------------------------------------------------------------------------
|            | 5                    | 106               | 2               |
|            | 5                    | 102               | 3               |
|            | 3                    | 104               | 2               |
|            | 3                    | 101               | 3               |
|            | 5                    | 101               | 5               |
---------------------------------------------------------------------------
---------------------------------------------------------------------------
| trades     | investor_id:int      | trade_id:int      | rating:int      |
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
| trades     | investor_id:int      | trade_id:int      | rating:int      |
---------------------------------------------------------------------------
---------------------------------------------------------------------------
---------------------------------------------------------------------------
| trades     | investor_id:int      | trade_id:int      | rating:int      |
---------------------------------------------------------------------------
---------------------------------------------------------------------------
-----------------------------------------------------------------------------------
| trades_2     | investor_id_2:int      | trade_id_2:int      | rating_2:int      |
-----------------------------------------------------------------------------------
|              | 5                      | 106                 | 2                 |
|              | 5                      | 102                 | 3                 |
|              | 3                      | 104                 | 2                 |
|              | 3                      | 101                 | 3                 |
|              | 5                      | 101                 | 5                 |
-----------------------------------------------------------------------------------
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| joinedtradeds     | trades::investor_id:int      | trades::trade_id:int      | trades::rating:int      | trades_2::investor_id_2:int      | trades_2::trade_id_2:int      | trades_2::rating_2:int      |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|                   | 3                            | 104                       | 2                       | 3                                | 104                           | 2                           |
|                   | 3                            | 104                       | 2                       | 3                                | 101                           | 3                           |
|                   | 3                            | 101                       | 3                       | 3                                | 104                           | 2                           |
|                   | 3                            | 101                       | 3                       | 3                                | 101                           | 3                           |
|                   | 5                            | 106                       | 2                       | 5                                | 106                           | 2                           |
|                   | 5                            | 106                       | 2                       | 5                                | 102                           | 3                           |
|                   | 5                            | 106                       | 2                       | 5                                | 101                           | 5                           |
|                   | 5                            | 102                       | 3                       | 5                                | 106                           | 2                           |
|                   | 5                            | 102                       | 3                       | 5                                | 102                           | 3                           |
|                   | 5                            | 102                       | 3                       | 5                                | 101                           | 5                           |
|                   | 5                            | 101                       | 5                       | 5                                | 106                           | 2                           |
|                   | 5                            | 101                       | 5                       | 5                                | 102                           | 3                           |
|                   | 5                            | 101                       | 5                       | 5                                | 101                           | 5                           |
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| groupedtrades     | group:tuple(trades::trade_id:int,trades_2::trade_id_2:int)                | joinedtradeds:bag{:tuple(trades::investor_id:int,trades::trade_id:int,trades::rating:int,trades_2::investor_id_2:int,trades_2::trade_id_2:int,trades_2::rating_2:int)}                                         |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|                   | (101, 101)                                                                | {(3, ..., 3), (5, ..., 5)}                                                                                                                                                                                     |
|                   | (101, 102)                                                                | {(5, ..., 3)}                                                                                                                                                                                                  |
|                   | (101, 104)                                                                | {(3, ..., 2)}                                                                                                                                                                                                  |
|                   | (101, 106)                                                                | {(5, ..., 2)}                                                                                                                                                                                                  |
|                   | (102, 101)                                                                | {(5, ..., 5)}                                                                                                                                                                                                  |
|                   | (102, 102)                                                                | {(5, ..., 3)}                                                                                                                                                                                                  |
|                   | (102, 106)                                                                | {(5, ..., 2)}                                                                                                                                                                                                  |
|                   | (104, 101)                                                                | {(3, ..., 3)}                                                                                                                                                                                                  |
|                   | (104, 104)                                                                | {(3, ..., 2)}                                                                                                                                                                                                  |
|                   | (106, 101)                                                                | {(5, ..., 5)}                                                                                                                                                                                                  |
|                   | (106, 102)                                                                | {(5, ..., 3)}                                                                                                                                                                                                  |
|                   | (106, 106)                                                                | {(5, ..., 2)}                                                                                                                                                                                                  |
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------
| cooccurrence     | trade_id:int      | trade_id_2:int      | tradecount:long      |
-------------------------------------------------------------------------------------
|                  | 101               | 101                 | 2                    |
|                  | 101               | 102                 | 1                    |
|                  | 101               | 104                 | 1                    |
|                  | 101               | 106                 | 1                    |
|                  | 102               | 101                 | 1                    |
|                  | 102               | 102                 | 1                    |
|                  | 102               | 106                 | 1                    |
|                  | 104               | 101                 | 1                    |
|                  | 104               | 104                 | 1                    |
|                  | 106               | 101                 | 1                    |
|                  | 106               | 102                 | 1                    |
|                  | 106               | 106                 | 1                    |
-------------------------------------------------------------------------------------
---------------------------------------------------------------------------
| trades     | investor_id:int      | trade_id:int      | rating:int      |
---------------------------------------------------------------------------
---------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
| filteredtradesforuser3     | investor_id:int      | trade_id:int      | rating:int      |
-------------------------------------------------------------------------------------------
|                            | 3                    | 104               | 2               |
|                            | 3                    | 101               | 3               |
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
| filteredtradesforuser3     | investor_id:int      | trade_id:int      | rating:int      |
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
| filteredtradesforuser3     | investor_id:int      | trade_id:int      | rating:int      |
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| pre_product_matrix     | cooccurrence::trade_id:int      | cooccurrence::trade_id_2:int      | cooccurrence::tradecount:long      | filteredtradesforuser3::investor_id:int      | filteredtradesforuser3::trade_id:int      | filteredtradesforuser3::rating:int      |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|                        | 101                             | 101                               | 2                                  | 3                                            | 101                                       | 3                                       |
|                        | 102                             | 101                               | 1                                  | 3                                            | 101                                       | 3                                       |
|                        | 104                             | 101                               | 1                                  | 3                                            | 101                                       | 3                                       |
|                        | 106                             | 101                               | 1                                  | 3                                            | 101                                       | 3                                       |
|                        | 101                             | 104                               | 1                                  | 3                                            | 104                                       | 2                                       |
|                        | 104                             | 104                               | 1                                  | 3                                            | 104                                       | 2                                       |
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------------------------------
| product_matrix     | trade_id:int      | trade_id_2:int      | user3ratingproduct:int      |
----------------------------------------------------------------------------------------------
|                    | 101               | 101                 | 6                           |
|                    | 102               | 101                 | 3                           |
|                    | 104               | 101                 | 3                           |
|                    | 106               | 101                 | 3                           |
|                    | 101               | 104                 | 2                           |
|                    | 104               | 104                 | 2                           |
----------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------------------------------------------
| grouped_product_matrix     | group:int      | product_matrix:bag{:tuple(trade_id:int,trade_id_2:int,user3ratingproduct:int)}                          |
---------------------------------------------------------------------------------------------------------------------------------------------------------
|                            | 101            | {(101, 101, 6), (101, 104, 2)}                                                                          |
|                            | 102            | {(102, 101, 3)}                                                                                         |
|                            | 104            | {(104, 101, 3), (104, 104, 2)}                                                                          |
|                            | 106            | {(106, 101, 3)}                                                                                         |
---------------------------------------------------------------------------------------------------------------------------------------------------------
----------------------------------------------------------------------
| result_Vector     | trade_id:int      | user3ratingtotal:long      |
----------------------------------------------------------------------
|                   | 101               | 8                          |
|                   | 102               | 3                          |
|                   | 104               | 5                          |
|                   | 106               | 3                          |
----------------------------------------------------------------------
-------------------------------------------------------------------------------------------
| filteredtradesforuser3     | investor_id:int      | trade_id:int      | rating:int      |
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| joinedrecommendations     | result_Vector::trade_id:int      | result_Vector::user3ratingtotal:long      | filteredtradesforuser3::investor_id:int      | filteredtradesforuser3::trade_id:int      | filteredtradesforuser3::rating:int      |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|                           | 101                              | 8                                         | 3                                            | 101                                       | 3                                       |
|                           | 102                              | 3                                         |                                              |                                           |                                         |
|                           | 104                              | 5                                         | 3                                            | 104                                       | 2                                       |
|                           | 106                              | 3                                         |                                              |                                           |                                         |
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
| filteredrecommendations     | result_Vector::trade_id:int      | result_Vector::user3ratingtotal:long      | filteredtradesforuser3::investor_id:int      | filteredtradesforuser3::trade_id:int      | filteredtradesforuser3::rating:int      |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
|                             | 102                              | 3                                         |                                              |                                           |                                         |
|                             | 106                              | 3                                         |                                              |                                           |                                         |
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------
| user3recommendation     | trade_id:int      | recommendation:long      |
--------------------------------------------------------------------------
|                         | 102               | 3                        |
|                         | 106               | 3                        |
--------------------------------------------------------------------------
--------------------------------------------------------------------------------
| user3recommendationsorted     | trade_id:int      | recommendation:long      |
--------------------------------------------------------------------------------
|                               | 102               | 3                        |
|                               | 106               | 3                        |
--------------------------------------------------------------------------------

grunt>
